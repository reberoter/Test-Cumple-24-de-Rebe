<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Personalidad - Cumple de Rebeca üéâ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #FFD700 0%, #40E0D0 50%, #FFFFFF 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 3px solid #FFD700;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #FF6B9D;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .test-selection {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .test-btn {
            padding: 20px;
            border: none;
            border-radius: 20px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .test-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .test-btn:hover:before {
            left: 100%;
        }

        .test-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .test-zambo { background: linear-gradient(45deg, #FF6B9D, #FFD700); }
        .test-emoji { background: linear-gradient(45deg, #40E0D0, #FF6B9D); }
        .test-friend { background: linear-gradient(45deg, #FFD700, #40E0D0); }

        .test-container {
            display: none;
            animation: slideIn 0.5s ease;
        }

        .question {
            background: linear-gradient(45deg, #40E0D0, #FFD700);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            font-size: 1.2em;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .question-counter {
            background: rgba(255,255,255,0.2);
            display: inline-block;
            padding: 8px 15px;
            border-radius: 15px;
            margin-bottom: 15px;
            font-size: 0.9em;
        }

        .options {
            display: grid;
            gap: 15px;
            margin-bottom: 25px;
        }

        .option-btn {
            padding: 18px;
            border: 3px solid #FFD700;
            border-radius: 15px;
            background: white;
            color: #333;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .option-btn:hover {
            background: #FFD700;
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(255, 215, 0, 0.3);
        }

        .option-btn.selected {
            background: #40E0D0;
            color: white;
            border-color: #40E0D0;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-btn {
            background: linear-gradient(45deg, #FF6B9D, #FFD700);
            color: white;
        }

        .next-btn {
            background: linear-gradient(45deg, #40E0D0, #FF6B9D);
            color: white;
            display: none;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(64, 224, 208, 0.3);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #FFD700, #40E0D0);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .result {
            display: none;
            text-align: center;
            animation: bounceIn 0.8s ease;
        }

        .result-image {
            font-size: 5em;
            margin: 20px 0;
        }

        .result-title {
            font-size: 2em;
            color: #FF6B9D;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .result-description {
            font-size: 1.1em;
            color: #666;
            line-height: 1.6;
            margin-bottom: 25px;
            background: rgba(64, 224, 208, 0.1);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #40E0D0;
        }

        .share-btn {
            background: linear-gradient(45deg, #FF6B9D, #FFD700);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #FFD700;
            animation: confetti-fall 3s linear infinite;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéâ Test de Personalidad üéÇ</h1>
            <p>¬°Cumplea√±os de Rebeca! Descubre qui√©n eres realmente</p>
        </div>

        <!-- Pantalla de selecci√≥n -->
        <div id="test-selection" class="test-selection">
            <button class="test-btn test-zambo" onclick="startTest('zambo')">
                ü•® ¬øQu√© tipo de Zambo soy?
                <br><small>Descubre tu botana interior hondure√±a</small>
            </button>
            <button class="test-btn test-emoji" onclick="startTest('emoji')">
                üòÑ ¬øQu√© emoji me representa?
                <br><small>Tu personalidad en un emoji</small>
            </button>
            <button class="test-btn test-friend" onclick="startTest('friend')">
                üë≠ ¬øQui√©n soy del grupo?
                <br><small>Descubre cu√°l de las 9 amigas eres</small>
            </button>
        </div>

        <!-- Container del test -->
        <div id="test-container" class="test-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="question" id="question">
                <div class="question-counter">
                    Pregunta <span id="current-q">1</span> de <span id="total-q">5</span>
                </div>
                <div id="question-text"></div>
            </div>

            <div class="options" id="options"></div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="goBack()">‚Üê Volver</button>
                <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()">Siguiente ‚Üí</button>
            </div>
        </div>

        <!-- Resultado -->
        <div id="result" class="result">
            <div class="result-image" id="result-image"></div>
            <div class="result-title" id="result-title"></div>
            <div class="result-description" id="result-description"></div>
            <button class="share-btn" onclick="shareResult()">üì§ Compartir Resultado</button>
            <button class="share-btn" onclick="goBack()">üîÑ Hacer Otro Test</button>
        </div>
    </div>

    <script>
        const tests = {
            zambo: {
                title: "¬øQu√© tipo de Zambo soy?",
                questions: [
                    {
                        question: "¬øC√≥mo prefieres pasar tu tiempo libre?",
                        options: [
                            "Relajada en casa viendo Netflix",
                            "Saliendo a fiestas y conociendo gente nueva",
                            "Haciendo actividades creativas",
                            "Compartiendo con mis mejores amigas"
                        ]
                    },
                    {
                        question: "¬øCu√°l es tu sabor favorito?",
                        options: [
                            "Dulce y suave",
                            "Salado y crujiente",
                            "Picante y audaz",
                            "Una mezcla de todo"
                        ]
                    },
                    {
                        question: "¬øC√≥mo eres en las reuniones?",
                        options: [
                            "La que siempre est√° ah√≠ pero tranquila",
                            "El alma de la fiesta",
                            "La que hace que todo sea m√°s interesante",
                            "La que todos buscan para hablar"
                        ]
                    },
                    {
                        question: "¬øQu√© te describe mejor?",
                        options: [
                            "Confiable y constante",
                            "Divertida y espont√°nea",
                            "√önica e impredecible",
                            "Perfecta para cualquier ocasi√≥n"
                        ]
                    },
                    {
                        question: "¬øCu√°l ser√≠a tu lugar ideal?",
                        options: [
                            "Un lugar c√≥modo y familiar",
                            "El centro de atenci√≥n",
                            "Un lugar √∫nico y especial",
                            "Donde est√©n mis personas favoritas"
                        ]
                    }
                ],
                results: {
                    A: {
                        title: "¬°Eres Zambo Cl√°sico! ü•®",
                        image: "ü•®",
                        description: "Eres la botana de siempre, la que nunca falla. Confiable, querida por todos y perfecta para cualquier momento. Como un zambo tradicional, siempre est√°s ah√≠ cuando te necesitan y tu presencia es reconfortante. ¬°Eres la base s√≥lida de cualquier grupo!"
                    },
                    B: {
                        title: "¬°Eres Zambo Enchilado! üå∂Ô∏èü•®",
                        image: "üå∂Ô∏è",
                        description: "¬°Eres la versi√≥n con m√°s sabor! Divertida, emocionante y siempre agregando ese toque especial que hace que todo sea mejor. Como un zambo enchilado, tienes esa chispa extra que hace que la gente siempre quiera m√°s de ti. ¬°Eres la diversi√≥n personificada!"
                    },
                    C: {
                        title: "¬°Eres Zambo Gourmet! ‚ú®ü•®",
                        image: "‚ú®",
                        description: "Eres √∫nica y sofisticada, como un zambo con ingredientes especiales. No eres para cualquier ocasi√≥n, pero cuando apareces, todos saben que algo especial est√° pasando. Tu personalidad tiene esos toques √∫nicos que te hacen inolvidable. ¬°Eres una experiencia completa!"
                    },
                    D: {
                        title: "¬°Eres Zambo Mix! üåàü•®",
                        image: "üåà",
                        description: "Eres la combinaci√≥n perfecta de todo lo bueno. Como una mezcla de zambos, tienes un poco de cada personalidad y eso te hace s√∫per vers√°til. Puedes adaptarte a cualquier situaci√≥n y siempre tienes algo que ofrecer. ¬°Eres la opci√≥n favorita de todos!"
                    }
                }
            },
            emoji: {
                title: "¬øQu√© emoji me representa?",
                questions: [
                    {
                        question: "¬øC√≥mo reaccionas cuando recibes buenas noticias?",
                        options: [
                            "Salto de emoci√≥n y lo comparto con todos",
                            "Sonr√≠o mucho y me siento s√∫per feliz",
                            "Me pongo rom√°ntica y sentimental",
                            "Me r√≠o mucho y hago bromas al respecto"
                        ]
                    },
                    {
                        question: "¬øCu√°l es tu forma favorita de expresar amor?",
                        options: [
                            "Con muchos abrazos y celebraciones",
                            "Con sonrisas y palabras dulces",
                            "Con gestos rom√°nticos y detalles",
                            "Con chistes y momentos divertidos"
                        ]
                    },
                    {
                        question: "¬øC√≥mo eres en las fotos?",
                        options: [
                            "Siempre con los brazos arriba celebrando",
                            "Con mi mejor sonrisa natural",
                            "Haciendo poses tiernas o rom√°nticas",
                            "Haciendo caras chistosas"
                        ]
                    },
                    {
                        question: "¬øQu√© mensaje env√≠as m√°s en WhatsApp?",
                        options: [
                            "¬°¬°¬°YAAAAS!!! ¬°¬°¬°LO LOGRAMOS!!!",
                            "Todo va a estar bien üòä",
                            "Te quiero mucho üíï",
                            "JAJAJAJA no manches üòÇ"
                        ]
                    },
                    {
                        question: "¬øC√≥mo describir√≠as tu energ√≠a?",
                        options: [
                            "Pura emoci√≥n y celebraci√≥n",
                            "Alegr√≠a constante y positiva",
                            "Dulce y llena de amor",
                            "Divertida y llena de risas"
                        ]
                    }
                ],
                results: {
                    A: {
                        title: "¬°Eres el emoji üéâ!",
                        image: "üéâ",
                        description: "Eres pura celebraci√≥n y alegr√≠a. Siempre est√°s lista para festejar los logros de otros y convertir cualquier momento en una fiesta. Tu energ√≠a es contagiosa y haces que todos se sientan especiales. Eres la que transforma los d√≠as ordinarios en extraordinarios. ¬°La vida contigo siempre es una celebraci√≥n!"
                    },
                    B: {
                        title: "¬°Eres el emoji üòä!",
                        image: "üòä",
                        description: "Eres la sonrisa m√°s dulce y genuina que existe. Tu personalidad irradia calidez y positividad constante. Eres la amiga que siempre ve el lado bueno de las cosas y contagias paz y felicidad a todos a tu alrededor. Tu sonrisa es tu superpoder y tu mejor carta de presentaci√≥n."
                    },
                    C: {
                        title: "¬°Eres el emoji üòç!",
                        image: "üòç",
                        description: "Eres puro amor y dulzura. Ves la belleza en todo y tu coraz√≥n est√° lleno de cari√±o para dar. Eres rom√°ntica, detallista y siempre haces que las personas se sientan amadas y especiales. Tu forma de amar es intensa y hermosa, y contagias amor por donde pasas."
                    },
                    D: {
                        title: "¬°Eres el emoji üòÇ!",
                        image: "üòÇ",
                        description: "Eres la risa personificada. Tu sentido del humor es tu mayor fortaleza y haces que todos se olviden de sus problemas cuando est√°s cerca. Tienes esa habilidad especial de encontrar algo gracioso en cualquier situaci√≥n y convertir los momentos dif√≠ciles en recuerdos divertidos. ¬°Eres medicina para el alma!"
                    }
                }
            },
            friend: {
                title: "¬øQui√©n soy del grupo?",
                questions: [
                    {
                        question: "En una crisis grupal, ¬øcu√°l ser√≠a tu papel?",
                        options: [
                            "La que mantiene la calma y da los mejores consejos", // Nallely
                            "La que encuentra la soluci√≥n pr√°ctica r√°pidamente", // Rosely
                            "La que hace que todas se r√≠an para relajar el ambiente", // Daniela
                            "La que escucha a todas y conecta con cada una", // Rebeca
                            "La que ofrece dulces palabras y comprensi√≥n", // BlancaFlor
                            "La que busca el punto medio y une al grupo", // Marcel
                            "La que act√∫a con sabidur√≠a y nobleza", // Beatriz
                            "La que mantiene la paz y evita conflictos" // Eimy
                        ]
                    },
                    {
                        question: "¬øC√≥mo eres en las reuniones grupales?",
                        options: [
                            "La consejera sabia que todos buscan", // Nallely
                            "La organizadora que tiene todo bajo control", // Rosely
                            "La que hace que todo sea m√°s divertido", // Daniela
                            "La que se asegura de que todas participen", // Rebeca
                            "La que siempre tiene palabras dulces para todos", // BlancaFlor
                            "La que todos quieren tener cerca", // Marcel
                            "La que da el mejor ejemplo de comportamiento", // Beatriz
                            "La mediadora que mantiene la armon√≠a" // Eimy
                        ]
                    },
                    {
                        question: "¬øQu√© regalo dar√≠as a una amiga que est√° triste?",
                        options: [
                            "Un consejo sabio y tu experiencia de vida", // Nallely
                            "Algo pr√°ctico que realmente necesita", // Rosely
                            "Algo que la haga re√≠r y olvide sus problemas", // Daniela
                            "Tiempo de calidad y tu presencia completa", // Rebeca
                            "Algo dulce y lleno de amor", // BlancaFlor
                            "Tu compa√±√≠a incondicional", // Marcel
                            "Un gesto noble que toque su coraz√≥n", // Beatriz
                            "Un ambiente de paz y tranquilidad" // Eimy
                        ]
                    },
                    {
                        question: "¬øCu√°l es tu fortaleza en la amistad?",
                        options: [
                            "Tu madurez y sabidur√≠a para aconsejar", // Nallely
                            "Tu capacidad de resolver cualquier problema", // Rosely
                            "Tu habilidad para alegrar cualquier d√≠a", // Daniela
                            "Tu don para conectar con todos", // Rebeca
                            "Tu dulzura y comprensi√≥n infinita", // BlancaFlor
                            "Ser la amiga que todos quieren tener", // Marcel
                            "Tu nobleza y buen coraz√≥n", // Beatriz
                            "Tu capacidad de mantener la paz" // Eimy
                        ]
                    },
                    {
                        question: "¬øC√≥mo prefieres demostrar que te importan tus amigas?",
                        options: [
                            "D√°ndoles consejos basados en tu experiencia", // Nallely
                            "Ayud√°ndolas a resolver sus problemas pr√°cticos", // Rosely
                            "Haci√©ndolas re√≠r cuando m√°s lo necesitan", // Daniela
                            "Incluy√©ndolas en todo y conect√°ndolas con m√°s gente", // Rebeca
                            "Con gestos dulces y palabras de amor", // BlancaFlor
                            "Siendo la amiga leal que siempre comparte", // Marcel
                            "Con actos nobles y desinteresados", // Beatriz
                            "Creando un ambiente de calma y comprensi√≥n" // Eimy
                        ]
                    },
                    {
                        question: "¬øQu√© tipo de mensajes env√≠as m√°s en el grupo?",
                        options: [
                            "Consejos reflexivos y palabras de sabidur√≠a", // Nallely
                            "Soluciones a problemas y organizando planes", // Rosely
                            "Memes, chistes y cosas que las hagan re√≠r", // Daniela
                            "Invitaciones y conectando a todas", // Rebeca
                            "Mensajes de amor y apoyo emocional", // BlancaFlor
                            "Respuestas que todos esperan y valoran", // Marcel
                            "Mensajes nobles que inspiran a las dem√°s", // Beatriz
                            "Mensajes de paz y que calman tensiones" // Eimy
                        ]
                    },
                    {
                        question: "En una salida grupal, t√∫ eres la que...",
                        options: [
                            "Da los mejores consejos sobre qu√© hacer", // Nallely
                            "Organiza todo para que salga perfecto", // Rosely
                            "Hace que todas se diviertan al m√°ximo", // Daniela
                            "Invita a m√°s gente y hace nuevas amistades", // Rebeca
                            "Se asegura de que todas se sientan incluidas y queridas", // BlancaFlor
                            "Es el centro de atenci√≥n que todos buscan", // Marcel
                            "Da el mejor ejemplo y act√∫a con clase", // Beatriz
                            "Mantiene el ambiente relajado y sin drama" // Eimy
                        ]
                    },
                    {
                        question: "¬øC√≥mo describir√≠an tus amigas tu personalidad?",
                        options: [
                            "Madura, sabia y la m√°s centrada del grupo", // Nallely
                            "Pr√°ctica, eficiente y la que siempre resuelve", // Rosely
                            "Divertida, chistosa y la que alegra a todos", // Daniela
                            "Sociable, conectora y la que une a todos", // Rebeca
                            "Dulce, amorosa y la m√°s tierna", // BlancaFlor
                            "Compartida, querida y la que todos buscan", // Marcel
                            "Noble, elegante y la que inspira respeto", // Beatriz
                            "Pac√≠fica, calmada y la que trae tranquilidad" // Eimy
                        ]
                    }
                ],
                results: {
                    A: {
                        title: "¬°Eres como Nallely! üß†",
                        image: "üß†",
                        description: "Eres la m√°s madura del grupo. Tu sabidur√≠a y consejos son oro puro para todas tus amigas. Como Nallely, tienes esa perspectiva de vida que viene de la experiencia y la reflexi√≥n. Eres la persona a la que todas recurren cuando necesitan una opini√≥n sensata y un consejo que realmente las ayude. Tu madurez es tu superpoder."
                    },
                    B: {
                        title: "¬°Eres como Rosely! üîß",
                        image: "üîß",
                        description: "Eres la que m√°s resuelve en el grupo. Tienes esa habilidad especial de encontrar soluciones pr√°cticas a cualquier problema. Como Rosely, eres la persona a la que todas recurren cuando necesitan que algo se arregle o se organice. Tu mente pr√°ctica y tu eficiencia son tu superpoder. ¬°Sin ti el grupo estar√≠a perdido!"
                    },
                    C: {
                        title: "¬°Eres como Daniela! üòÑ",
                        image: "üòÑ",
                        description: "Eres la m√°s chistosa del grupo. Tu humor es tu regalo al mundo y tienes esa capacidad m√°gica de hacer re√≠r a cualquiera, incluso en los peores momentos. Como Daniela, eres la luz que ilumina cualquier reuni√≥n y la que transforma los momentos aburridos en recuerdos divertidos. ¬°Eres la medicina del alma del grupo!"
                    },
                    D: {
                        title: "¬°Eres como Rebeca! üåü",
                        image: "üåü",
                        description: "Eres la m√°s sociable del grupo. Tienes ese don especial de conectar con todas las personas y hacer que todos se sientan incluidos y especiales. Como Rebeca, eres el centro social que mantiene al grupo unido y siempre est√°s creando nuevas conexiones y oportunidades para que todas se diviertan juntas. ¬°Eres el alma social del grupo!"
                    },
                    E: {
                        title: "¬°Eres como BlancaFlor! üå∏",
                        image: "üå∏",
                        description: "Eres la amiga m√°s dulce del grupo. Tu coraz√≥n est√° lleno de amor y siempre tienes las palabras perfectas para consolar y apoyar a tus amigas. Como BlancaFlor, tienes esa dulzura natural que hace que todos se sientan queridos y especiales. Tu amor incondicional es el abrazo que el grupo siempre necesita."
                    },
                    F: {
                        title: "¬°Eres como Marcel! üíï",
                        image: "üíï",
                        description: "Eres la amiga compartida del grupo. Tienes esa personalidad especial que hace que todos quieran estar contigo y compartir momentos especiales. Como Marcel, eres la que une diferentes c√≠rculos de amistades y la que todos buscan cuando quieren pasar un buen rato. Tu presencia es un regalo para cualquier grupo."
                    },
                    G: {
                        title: "¬°Eres como Beatriz! üëë",
                        image: "üëë",
                        description: "Eres la m√°s noble del grupo. Tu coraz√≥n es puro oro y siempre act√∫as con bondad y comprensi√≥n. Eres el ejemplo de lo que significa ser una buena persona, y tu nobleza inspira a todas las dem√°s. Como Beatriz, tienes esa elegancia natural del alma que hace que todos te respeten y admiren. ¬°Eres la reina del grupo!"
                    },
                    H: {
                        title: "¬°Eres como Eimy! ‚òÆÔ∏è",
                        image: "‚òÆÔ∏è",
                        description: "Eres la m√°s pac√≠fica del grupo. Tu energ√≠a calmada y tu habilidad para mantener la armon√≠a son incre√≠bles. Como Eimy, tienes ese don especial de traer paz a cualquier situaci√≥n tensa y hacer que todos se sientan en calma. Tu presencia serena es como un oasis de tranquilidad para el grupo. ¬°Eres la paz que todos necesitamos!"
                    }
                }
            }
        };

        let currentTest = null;
        let currentQuestion = 0;
        let answers = [];

        function startTest(testType) {
            currentTest = tests[testType];
            currentQuestion = 0;
            answers = [];
            
            document.getElementById('test-selection').style.display = 'none';
            document.getElementById('test-container').style.display = 'block';
            document.getElementById('total-q').textContent = currentTest.questions.length;
            
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= currentTest.questions.length) {
                showResult();
                return;
            }

            const question = currentTest.questions[currentQuestion];
            const progress = ((currentQuestion + 1) / currentTest.questions.length) * 100;
            
            document.getElementById('progress').style.width = progress + '%';
            document.getElementById('current-q').textContent = currentQuestion + 1;
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => selectOption(index, button);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('next-btn').style.display = 'none';
        }

        function selectOption(index, button) {
            // Remover selecci√≥n previa
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Seleccionar nueva opci√≥n
            button.classList.add('selected');
            answers[currentQuestion] = index;
            
            // Mostrar bot√≥n siguiente
            document.getElementById('next-btn').style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function showResult() {
            // Calcular resultado basado en respuestas m√°s frecuentes
            let counts, keys;
            
            if (currentTest.title === "¬øQui√©n soy del grupo?") {
                // Para el test de amigas (8 opciones)
                counts = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0, G: 0, H: 0 };
                keys = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];
            } else {
                // Para los otros tests (4 opciones)
                counts = { A: 0, B: 0, C: 0, D: 0 };
                keys = ['A', 'B', 'C', 'D'];
            }
            
            answers.forEach(answer => {
                counts[keys[answer]]++;
            });
            
            const resultKey = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
            const result = currentTest.results[resultKey];
            
            document.getElementById('test-container').style.display = 'none';
            document.getElementById('result').style.display = 'block';
            
            document.getElementById('result-image').textContent = result.image;
            document.getElementById('result-title').textContent = result.title;
            document.getElementById('result-description').textContent = result.description;
            
            // Crear confeti
            createConfetti();
        }

        function createConfetti() {
            const colors = ['#FFD700', '#40E0D0', '#FF6B9D', '#FFFFFF'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 6000);
                }, i * 50);
            }
        }

        function shareResult() {
            const resultTitle = document.getElementById('result-title').textContent;
            const resultDescription = document.getElementById('result-description').textContent;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Mi resultado en el test de cumplea√±os de Rebeca',
                    text: `${resultTitle}\n\n${resultDescription}\n\n¬°Haz t√∫ tambi√©n el test!`
                });
            } else {
                // Fallback: copiar al clipboard
                const textToCopy = `üéâ Mi resultado en el test de cumplea√±os de Rebeca:\n\n${resultTitle}\n\n${resultDescription}\n\n¬°Haz t√∫ tambi√©n el test!`;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    alert('¬°Resultado copiado al portapapeles! Puedes pegarlo donde quieras üìã');
                });
            }
        }

        function goBack() {
            document.getElementById('test-container').style.display = 'none';
            document.getElementById('result').style.display = 'none';
            document.getElementById('test-selection').style.display = 'grid';
            
            // Limpiar confeti
            document.querySelectorAll('.confetti').forEach(c => c.remove());
        }
    </script>
</body>
</html>
